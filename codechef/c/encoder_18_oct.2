//Encoder-oct-18.p2 - https://www.codechef.com/ENCO2018/problems/PNTWLL

 


   #include <stdio.h>
#include <stdlib.h>

int main()
{
   int t;
   scanf("%d",&t);
   while(t--)
   {
        long long int n,m,j;
        scanf("%lld %lld",&n,&m);
        long long int N[n];
         long long int  M[n];

        for(j=0;j<n;j++)
            scanf("%lld",&N[j]);

        for(j=0;j<n;j++)
            scanf("%lld",&M[j]);

        long long int c=N[n-1];

        long long int k=M[n-1],f=1;
        long long int clr[m]={};
 j=n-2;
        while(j>=0)
        {
           clr[k]=1;
            if(N[j]>c&&M[j]!=k)
            {
                  
                  f++;
                  clr[M[j]]=1;
                  c=N[j];
                  k=M[j];

            }
            j=j-1;

     }
      long long count=0;
      for(j=1;j<m;j++)
      {
          if(clr[j]!=0);
          count++;
      }
           
     
     printf("%lld \n",count);
}
}

